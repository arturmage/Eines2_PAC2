@use "../variables" as v;

@layer pages {
  .page--home .page__main {
    padding-block: v.space("xl");
  }

  .home-poster {
    container-type: inline-size;

    margin-inline: auto;
    margin-block: v.space("lg");
    padding: clamp(1.75rem, 6svh, 3.5rem);
    max-width: min(72rem, 100% - 2rem);

    display: flex;
    flex-direction: column;
    gap: v.space("md");

    border-radius: v.$radius-lg;
    background-color: v.$color-surface;
    box-shadow: v.$shadow-soft;
  }

  @supports (display: grid) {
    .home-poster {
      display: grid;
      grid-template-columns: repeat(6, minmax(0, 1fr));
      grid-template-rows: auto auto 1fr auto;
      grid-template-areas:
        "badge  badge  badge  image  image  image"
        "title  title  title  image  image  image"
        "subtitle subtitle info   info   nav    nav"
        "footer footer footer footer footer footer";
      column-gap: v.space("lg");
      row-gap: v.space("md");
      align-items: center;
    }
  }

  .home-poster__badge {
    grid-area: badge;
    align-self: flex-start;
    padding-inline: 0.75rem;
    padding-block: 0.35rem;
    border-radius: 999px;
    background-color: v.$color-accent-soft;
    color: #3b1c08;
    font-size: 0.8rem;
    font-weight: 600;
    letter-spacing: 0.08em;
    text-transform: uppercase;
  }

  .home-poster__title {
    grid-area: title;
    font-family: v.$font-family-heading;
    font-size: clamp(2.2rem, 3.4vw, 3.4rem);
    line-height: 1.05;
    margin: 0;
  }

  .home-poster__subtitle {
    grid-area: subtitle;
    font-size: 1.05rem;
    max-width: 28rem;
    margin: 0;
  }

  .home-poster__info {
    grid-area: info;
    font-weight: 600;
  }

  .home-poster__nav {
    grid-area: nav;
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
  }

  .home-poster__image {
    grid-area: image;
    align-self: stretch;

    img {
      border-radius: v.$radius-lg;
      inline-size: 100%;
      block-size: 100%;
      object-fit: cover;
    }
  }

  .home-poster__footer-text {
    grid-area: footer;
    font-size: 0.9rem;
    opacity: 0.8;
  }

  @container (max-width: 50rem) {
    .home-poster {
      @supports (display: grid) {
        grid-template-columns: 1fr;
        grid-template-areas:
          "badge"
          "title"
          "subtitle"
          "image"
          "info"
          "nav"
          "footer";
      }

      text-align: left;
    }

    .home-poster__nav {
      justify-content: flex-start;
    }
  }
}
